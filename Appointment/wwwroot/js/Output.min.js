
function checkTheNumber() {
    let dat = $(".datepicker").val();
    let repetition = $("#txtCount").val();
    $.ajax({
        type: "GET",
        url: "/Emplooye/Reservationes/GetCountAppontment",
        data: { paramDate: dat, currentValue: repetition },
        success: function (data) {
            if (data.success) {
                toastr.success(data.message);
                $("#sav").show();
            } else {
                toastr.error(data.message);
                $("#sav").hide();
            }
        },
    });
}

checkTheNumber();
$(function () {

    $(".datepicker").datepicker(
        {
            dateFormat: 'yy-mm-dd',
            numberOfMonths: 1,
            changeYear: true,
            changeMonth: true,
        }
    );
});
var dataTable;
$(document).ready(function () {
    dataTable = $('#DT_Load').DataTable({
        "ajax": {
            "url": "/Statistics/Reportes/AllCustomerJson",
            "type": "GET",
            "datatype": "json"
        },
        "columns": [
            {
                "data": "id",
                "width": "10%"
            },
            {
                "data": "name",
                "width": "30%"
            },
            {
                "data": "mobily",
                "width": "30%"
            },
            {
                "data": "neighborhoods.name",
                "width": "30%",
            },
           
        ],
        "language": { "emptyTable": "Not Found Data" },
        "width": "100%"
    });
});
function ConfirmDelete(unigueId, isDeleteClick) {
    var deleteSpan = 'deleteSpan_' + unigueId;
    var confirmDeleteSpan = 'confirmDeleteSpan_' + unigueId;

    if (isDeleteClick) {
        $('#' + deleteSpan).hide();
        $('#' + confirmDeleteSpan).show();
    } else {
        $('#' + deleteSpan).show();
        $('#' + confirmDeleteSpan).hide();
    }
}


function addSubtractMonths(date, numMonths) {

    var month = date.getMonth();

    var milliSeconds = new Date(date).setMonth(month + numMonths);

    return new Date(milliSeconds);
};

$(function () {
    function WireUpDatePicker() {

        const maxDate = document.getElementById("maxdate").value;

        /* const addMonths = 2;*/

        var CurrDate = new Date();

        $(".datepicker").datepicker(
            {
                dateFormat: 'yy-mm-dd',
                numberOfMonths: 1,
                changeYear: true,
                changeMonth: true,
                minDate: CurrDate,
                maxDate: maxDate

                /*maxDate: addSubtractMonths(CurrDate, addMonths)*/

            }
        );
    }

    WireUpDatePicker();
});

//الحصول على رقم السائق
function getValue() {

    var mytd = document.getElementById('myselect');
    var value = mytd.value;
    var text = mytd.options[mytd.selectedIndex].text;
    console.log(mytd);
    console.log(value);
    console.log(text);
}

//function CountRows() {

//    var table1 = document.getElementById('tb');

//    var count = 0;
//    var arry = [];
//    var arry_ = [];


//    for (var i = 1; i < table1.rows.length; i++) {              // Fill Array
//        if (table1.rows[i].cells[6].innerHTML != null) {
//            arry.push(table1.rows[i].cells[6].id);              // Fill Array ID Itime
//            arry_.push(table1.rows[i].cells[6].innerHTML);      // Fill Array Number Driver
//        }
//    }

//    console.log(arry);
//    console.log(arry_);

//    for (var j = 0; j < arry_.length; j++) {                    // Grob Array By Number Driver

//        count = 0;

//        for (var k = 0; k < arry_.length; k++) {
//            if (arry_[j] == arry_[k]) {
//                count++;
//            }
//        }

//        var myDiv = document.getElementById(arry[j] + '-result');       // Print Count
//        myDiv.innerHTML = count;

//        //myDiv.style.backgroundColor = "chartreuse";
//        //myDiv.style.color = "Red";
//    }
//}

//CountRows();








//var arry = [];
//var newArr = [];
//var result = null;

//$('table .code').each(function () {
//    arry.push($(this).val());
//});

//console.log(arry);

//const result = arry.filter(x => x == '2d891213-77d3-4474-b2e3-96577d00dccf');
//console.log(result.length);

//var mytd = document.getElementById(arry[i]);
//var text = mytd.options[mytd.selectedIndex].value;
//console.log(text);

//newArr = arry;

//for (var i = 0; i < arry.length; i++) {

//    var mytd = document.getElementById(arry[i]);
//    var text = mytd.options[mytd.selectedIndex].value;
//    console.log(text);

//    result = arry.filter(x => x === arry[i]);
//    console.log(result.length);

//    document.getElementById('count' + ' ' + arry[i]).innerHTML = result.length


//}



            
//            let count = 0;

//            for (var j = 0; j < arry.length; j++) {
//                if (arry[j] != "") {
//                    count = 0;
//                    for (var k = 0; k < newArr.length; k++) {
//                        if (newArr[k] === arry[j]) {
//                            count++;
//                        }
//                    };
//                    document.getElementById(arry[j]).innerHTML = count;
//                    console.log(newArr[j] + ':' + count);
//                }
//            };












//const url_table = document.getElementById("tb").rows
//                var post_urls = [];
//                for (let i = 1; i < url_table.length; i++) {
//                    post_urls.push(url_table[i].cells[5].innerText);
//                }

//                console.log(post_urls);


//                var arr = [];
//                $('table .code').each(function () {
//                    arr.push($(this).val());
//                })
//                console.log(arr);


//               var r = $("#myselect option:selected").text();
//                console.log(r);

//                var rr = $("#myselect").val();
//                console.log(rr);


//                 $('table > tbody  > tr > td > div > select').each(function (index, tr) {
//                        console.log(index);
//                        console.log(tr);



//                        let driverId = pramId;
//                        var i = 0;
//                        $("select").each(function () {
//                            if ($(this).attr("id") == driverId)
//                                i++;

//                        });
//                        console.log(i);
// Please see documentation at https://docs.microsoft.com/aspnet/core/client-side/bundling-and-minification
// for details on configuring this project to bundle and minify static web assets.

// Write your JavaScript code.

$(function () {
    if ($("#txtName").val() !== '') {
        $("#txtName").prop("disabled", true);
    } else {
        $("#txtName").prop("disabled", false);
    }
    if ($("#txtPhone").val() !== '') {
        $("#txtPhone").prop("disabled", true);
    } else {
        $("#txtPhone").prop("disabled", false);
    }
    if ($("#neigh").val() !== '') {
        $("#neigh").prop("disabled", true);
    } else {
        $("#neigh").prop("disabled", false);
    }
});
function getCount() {

    // Fill Aryy
    var arry = [];
    $('table .code').each(function () {
        arry.push($(this).val());
    });


    // Write number innerHtml
    var table = document.getElementById("tb");

    for (var i = 1; i < table.rows.length; i++) {

        // Filter Arry
        var result = arry.filter(x => x === arry[i - 1]);

        table.rows[i].cells[6].innerHTML = result.length;
    };
};

getCount();